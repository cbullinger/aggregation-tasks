# MongoDB Configuration
# Connection URI should be provided with the MONGODB_URI environment variable
spring.data.mongodb.uri=${MONGODB_URI}
spring.data.mongodb.database=sample_mflix

# Server Configuration
# Default port is 3001, can be overridden with the PORT environment variable
server.port=${PORT:3001}

# CORS Configuration
# Comma-separated list of allowed origins for cross-origin requests
cors.allowed.origins=${CORS_ORIGINS:http://localhost:3000}

# Voyage AI Configuration
# API key for Voyage AI embedding model (required for vector search)
voyage.api.key=${VOYAGE_API_KEY:}

# Application Info
spring.application.name=sample-app-java-mflix

# Logging Configuration
# Log level can be overridden with LOG_LEVEL environment variable
# Available levels: TRACE, DEBUG, INFO, WARN, ERROR
logging.level.com.mongodb.samplemflix=${LOG_LEVEL:INFO}
logging.level.org.mongodb.driver=WARN
# Suppress connection pool maintenance warnings (these are usually harmless)
logging.level.org.mongodb.driver.connection=ERROR

# Console logging pattern with colors and timestamps
logging.pattern.console=%clr(%d{HH:mm:ss}){faint} %clr(%5p){highlight} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n

# File logging (optional - enabled when LOG_FILE is set)
logging.file.name=${LOG_FILE:}
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} %5p --- [%15.15t] %-40.40logger{39} : %m%n
logging.logback.rollingpolicy.max-file-size=5MB
logging.logback.rollingpolicy.max-history=5

# Jackson Configuration (JSON serialization)
spring.jackson.default-property-inclusion=non_null
spring.jackson.serialization.write-dates-as-timestamps=false

# API Documentation (Swagger/OpenAPI)
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
# Disable "Try it out" by default (user must click to enable)
springdoc.swagger-ui.tryItOutEnabled=false
# Display request duration in Swagger UI
springdoc.swagger-ui.displayRequestDuration=true
# Enable deep linking for direct access to operations
springdoc.swagger-ui.deepLinking=true
# Show request/response examples
springdoc.swagger-ui.defaultModelsExpandDepth=1
springdoc.swagger-ui.defaultModelExpandDepth=1
